{"ast":null,"code":"var _jsxFileName = \"/Users/josepalmero/Documents/UdSA/Programacion3/proyecto-Integrador/src/pages/SearchResults.js\";\nimport React, { Component } from 'react';\nimport Pelicula from '../components/Pelicula/Pelicula';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      isLoading: true\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    fetch(`https://api.themoviedb.org/3/search/movie?query=${this.props.location.state.query}&api_key=2e1ba77b764a76e2e48e86179135ae4d`).then(response => response.json()).then(data => {\n      if (data.results) {\n        this.setState({\n          movies: data.results,\n          isLoading: false\n        });\n      } else {\n        console.error('No se encontaron resultados para su busqueda');\n      }\n    }).catch(error => {\n      console.error('error', error);\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n  render() {\n    const {\n      movies,\n      isLoading,\n      error\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" Resultados de busqueda: \", this.props.location.state.query, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Error en la carga de resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this) : movies.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: movies.map((movie, index) => /*#__PURE__*/_jsxDEV(Pelicula, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se encontaron resultados para su busqueda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" Resultados de busqueda: \", this.props.location.state.query, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w342/${movie.poster_path}`,\n                alt: movie.title,\n                className: \"img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"titulo\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: movie.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"desc\",\n              children: [this.state.showDesc ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: movie.overview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 64\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.handleShowDesc(),\n                children: [\" \", this.state.showDesc ? \"Ocultar descripcion\" : \"Ver descripcion\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/detalle/${movie.id}`,\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Ir a Detalle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 72\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this)]\n          }, movie.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default SearchResults;","map":{"version":3,"names":["React","Component","Pelicula","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchResults","constructor","props","state","movies","isLoading","componentDidMount","setState","fetch","location","query","then","response","json","data","results","console","error","catch","render","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","movie","index","src","poster_path","alt","title","className","showDesc","overview","onClick","handleShowDesc","Link","to","id"],"sources":["/Users/josepalmero/Documents/UdSA/Programacion3/proyecto-Integrador/src/pages/SearchResults.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Pelicula from '../components/Pelicula/Pelicula';\n\nclass SearchResults extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            movies: [],\n            isLoading: true\n        }\n    }\n\n    componentDidMount(){\n        this.setState({\n            isLoading: true\n        })\n        fetch(`https://api.themoviedb.org/3/search/movie?query=${this.props.location.state.query}&api_key=2e1ba77b764a76e2e48e86179135ae4d`)\n        .then((response) => response.json())\n        .then((data) => {\n            if (data.results) {\n                this.setState({ \n                    movies: data.results, \n                    isLoading: false\n                })\n            } else {\n                console.error('No se encontaron resultados para su busqueda')\n            }\n        })\n        .catch((error) => {\n            console.error('error', error)\n            this.setState({ \n                isLoading: false\n            })  \n        })\n    }\n\n    render(){\n        const {movies, isLoading, error} = this.state\n\n        return(\n            <>\n                <section>\n                    <h2> Resultados de busqueda: {this.props.location.state.query} </h2>\n                    { isLoading ? (\n                        <p>Cargando...</p>\n                    ) : error ? (\n                        <p>Error en la carga de resultados</p>\n                    ) : movies.length > 0 ? (\n                        <div>\n                            {movies.map((movie, index) => (\n                                <Pelicula/>\n\n                            ))}\n                        </div>) : (\n                            <p>No se encontaron resultados para su busqueda</p>\n                        )}\n                </section>\n\n\n\n\n\n\n                <div>\n                    <h2> Resultados de busqueda: {this.props.location.state.query} </h2>\n                    { isLoading ? (\n                        <p>Cargando...</p>\n                    ) : (\n                        <ul>\n                            {movies.map((movie)=>(\n                                <li key={movie.id}> \n                                    <div>\n                                        <img src={`https://image.tmdb.org/t/p/w342/${movie.poster_path}`} alt={movie.title} className='img'/>\n                                    </div>\n\n                                    <div className='titulo'>\n                                        <h4>{movie.title}</h4>\n                                    </div>\n\n                                    <div className='desc'>\n                                        {this.state.showDesc ? <p>{movie.overview}</p> : null }\n                                        <button onClick={()=> this.handleShowDesc()}> {this.state.showDesc ? \"Ocultar descripcion\" : \"Ver descripcion\"}</button>\n                                    </div>\n\n                                    <Link to={`/detalle/${movie.id}`}> <button>Ir a Detalle</button> </Link> \n                                </li>\n                            ))}\n                        </ul>\n                    )}\n                </div>\n            </>\n        )\n    }\n}\n\nexport default SearchResults"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}