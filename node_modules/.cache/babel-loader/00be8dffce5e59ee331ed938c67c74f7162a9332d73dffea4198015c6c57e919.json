{"ast":null,"code":"var _jsxFileName = \"/Users/Belen/Desktop/prog3/proyecto-Integrador/src/components/VerTodas/VerTodas.js\";\nimport React, { Component } from \"react\";\nimport { options } from \"../../options\";\nimport Pelicula from \"../Pelicula/Pelicula\";\nimport \"./VerTodas.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass VerTodas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      filteredMovies: [],\n      userValue: \"\",\n      actualPage: 1,\n      isLoading: true\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    const {\n      link\n    } = this.props;\n    fetch(`https://api.themoviedb.org/3/movie/${link}?api_key=2e1ba77b764a76e2e48e86179135ae4d&page=${this.state.actualPage}`, options).then(response => response.json()).then(data => this.setState({\n      movies: data.results,\n      filteredMovies: this.state.movies.concat(data.results),\n      actualPage: this.state.actualPage + 1,\n      isLoading: false\n    }));\n  }\n  handleResetFilter() {\n    this.setState({\n      userValue: \"\",\n      filteredMovies: this.state.movies\n    });\n  }\n  handleLoadMore() {\n    const {\n      link\n    } = this.props;\n    fetch(`https://api.themoviedb.org/3/movie/${link}?api_key=2e1ba77b764a76e2e48e86179135ae4d&page=${this.state.actualPage}`, options).then(response => response.json()).then(data => {\n      const moreMovies = [];\n      const movies = this.state.movies;\n      movies.map(movie => moreMovies.push(movie));\n      data.results.map(result => moreMovies.push(result));\n      this.setState({\n        movies: moreMovies,\n        filteredMovies: moreMovies,\n        actualPage: this.state.actualPage + 1\n      });\n    });\n  }\n  handleFilterChange(e) {\n    const userValue = e.target.value;\n    this.setState({\n      filterValue: userValue,\n      filteredMovies: this.state.movies.filter(movie => movie.title.toLowerCase().includes(userValue.toLowerCase()))\n    });\n  }\n  render() {\n    const {\n      filteredMovies,\n      userValue\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Filtrar pelicula por nombre: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: userValue,\n          onChange: e => this.handleFilterChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loader\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.handleResetFilter(),\n        children: \" Resetear el filtro \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), filteredMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" No se encontraron peliculas para esa busqueda \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }, this) : filteredMovies.map((movies, index) => /*#__PURE__*/_jsxDEV(Pelicula, {\n        movies: movies\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 56\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.handleLoadMore(),\n        children: \" Cargar M\\xE1s \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default VerTodas;","map":{"version":3,"names":["React","Component","options","Pelicula","jsxDEV","_jsxDEV","Fragment","_Fragment","VerTodas","constructor","props","state","movies","filteredMovies","userValue","actualPage","isLoading","componentDidMount","setState","link","fetch","then","response","json","data","results","concat","handleResetFilter","handleLoadMore","moreMovies","map","movie","push","result","handleFilterChange","e","target","value","filterValue","filter","title","toLowerCase","includes","render","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","className","onClick","length","index"],"sources":["/Users/Belen/Desktop/prog3/proyecto-Integrador/src/components/VerTodas/VerTodas.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { options } from \"../../options\";\nimport Pelicula from \"../Pelicula/Pelicula\";\nimport \"./VerTodas.css\";\n\n\nclass VerTodas extends Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n        movies: [],\n        filteredMovies: [],\n        userValue: \"\",\n        actualPage: 1, \n        isLoading: true\n    }\n}\n\n  componentDidMount(){\n    this.setState({\n        isLoading: true\n    })\n\n    const {link} = this.props\n    \n    fetch(`https://api.themoviedb.org/3/movie/${link}?api_key=2e1ba77b764a76e2e48e86179135ae4d&page=${this.state.actualPage}`, options)\n    .then(response => response.json())\n    .then(data => this.setState({\n        movies: data.results,\n        filteredMovies: this.state.movies.concat(data.results),\n        actualPage: this.state.actualPage + 1,\n        isLoading: false\n    }))\n  }\n\n  handleResetFilter(){\n      this.setState({\n          userValue: \"\",\n          filteredMovies: this.state.movies\n      })\n  }\n\n  handleLoadMore(){\n      const {link} = this.props\n      fetch(`https://api.themoviedb.org/3/movie/${link}?api_key=2e1ba77b764a76e2e48e86179135ae4d&page=${this.state.actualPage}`, options) \n      .then(response => response.json())\n      .then(data => {\n          const moreMovies = [];\n          const movies = this.state.movies\n          movies.map((movie) => moreMovies.push(movie));\n          data.results.map((result) => moreMovies.push(result));\n\n          this.setState({\n              movies: moreMovies,\n              filteredMovies: moreMovies,\n              actualPage: this.state.actualPage + 1})\n      })   \n  }\n\n  handleFilterChange(e){\n      const userValue = e.target.value;\n\n      this.setState({\n          filterValue: userValue,\n          filteredMovies: this.state.movies.filter(movie => movie.title.toLowerCase().includes(userValue.toLowerCase()))\n      })\n  }\n\n\n\n  render(){\n      const { filteredMovies, userValue } = this.state\n      \n      return(\n          <>\n            {!this.state.isLoading ? \n                <div> \n                    <label>Filtrar pelicula por nombre: </label> \n                    <input type=\"text\" value={userValue} onChange={(e) => this.handleFilterChange(e)} />\n                </div> : <p className='loader'>Loading...</p>\n            }\n\n            <button onClick={() => this.handleResetFilter()}> Resetear el filtro </button>\n\n            {filteredMovies.length === 0 ? \n              <p> No se encontraron peliculas para esa busqueda </p> \n              : (filteredMovies.map((movies, index) => <Pelicula movies={movies} key={index} /> ))\n            }\n\n            <button onClick={() => this.handleLoadMore()}> Cargar MÃ¡s </button>\n          </>\n      )\n  }\n\n}\n\nexport default VerTodas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}